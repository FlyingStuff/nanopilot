depends:
    - test-runner
    - cmp:
        fork: camgunz
    - cmp_mem_access

source:
    - messagebus.c
    - serialization_msgpack.c
    - type_print.c

tests:
    - tests/mocks/synchronization.cpp
    - tests/atomicity.cpp
    - tests/msgbus.cpp
    - tests/signaling.cpp
    - tests/foreach.cpp
    - tests/serialization_msgpack_test.cpp
    - tests/type_print_test.cpp
    - dependencies/cmp/cmp.c

target.demo:
    - examples/posix/demo.c
    - examples/posix/messagebus_port.c
    - dependencies/cmp/cmp.c

target.arm:
    - examples/chibios/messagebus_port.c

templates:
    demo.jinja: CMakeLists.txt
